{
  "rules": {
    "profileIsAdmin": {
      "profile": {
        "uid": "{{uid}}",
        "isAdmin": true
      }
    },
    "profileIsEAP": {
      "profile": {
        "uid": "{{uid}}",
        "isEAP": true
      }
    },
    "profileOwnsProject": {
      "profile": {
        "uid": "{{uid}}"
      },
      "project": {
        "key": "{{key}}",
        "ownerProfileKey": ["profile", "$key"]
      }
    },
    "profileOrganizesProject": {
      "profile": {
        "uid": "{{uid}}"
      },
      "organizer": {
        "isAccepted": true,
        "projectKey": "{{key}}",
        "profileKey": ["profile", "$key"]
      }
    }
  },

  "Projects": {
    "create": ["profileIsAdmin", "profileIsEAP"],
    "update": ["profileIsAdmin", "profileOwnsProject", "profileOrganizesProject"],
    "remove": ["profileIsAdmin", "profileOwnsProject"]
  },

  "ProjectImages": {
    "/.*/": ["profileIsAdmin", "profileOwnsProject", "profileOrganizesProject"]
  },

  "Teams": {
    "create": [
      "profileIsAdmin",
      {
        "key": "{{values.projectKey}}",
        "_": "profileOwnsProject"
      },
      {
        "key": "{{values.projectKey}}",
        "_": "profileOrganizesProject"
      }
    ]
  }
}